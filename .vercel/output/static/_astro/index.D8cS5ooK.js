import{r as c}from"./index.CTjT7uj6.js";let l=[],h=(i,f)=>{let u=[],e={get(){return e.lc||e.listen(()=>{})(),e.value},l:f||0,lc:0,listen(n,s){return e.lc=u.push(n,s||e.l)/2,()=>{let r=u.indexOf(n);~r&&(u.splice(r,2),--e.lc||e.off())}},notify(n,s){let r=!l.length;for(let t=0;t<u.length;t+=2)l.push(u[t],u[t+1],e.value,n,s);if(r){for(let t=0;t<l.length;t+=5){let a;for(let o=t+1;!a&&(o+=5)<l.length;)l[o]<l[t+1]&&(a=l.push(l[t],l[t+1],l[t+2],l[t+3],l[t+4]));a||l[t](l[t+2],l[t+3],l[t+4])}l.length=0}},off(){},set(n){let s=e.value;s!==n&&(e.value=n,e.notify(s))},subscribe(n,s){let r=e.listen(n,s);return n(e.value),r},value:i};return e};function g(i,f,u){let e=new Set([...f,void 0]);return i.listen((n,s,r)=>{e.has(r)&&u(n,s,r)})}const m=()=>{const i=localStorage.getItem("theme");return i||"light"},b=h(m());function d(i,f={}){let u=c.useCallback(n=>f.keys?g(i,f.keys,n):i.listen(n),[f.keys,i]),e=i.get.bind(i);return c.useSyncExternalStore(u,e,e)}export{b as $,d as u};
