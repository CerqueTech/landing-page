---
import { getLangFromUrl } from '../../i18n/utils';
import getData from '../../services/data';
import { Image } from 'astro:assets';

const lang = getLangFromUrl(Astro.url);
const data = await getData(`${lang}/index/hero`);
if (!data) {
    return Astro.redirect('/404');
}

const hrefContact = lang === 'es' ? 'contactanos' : 'contact';
---

<!-- Add globe.gl script directly in the head -->
<script is:inline src='https://unpkg.com/globe.gl@2.28.2/dist/globe.gl.min.js'
></script>

<section class='hero_section_wrapper' aria-label='Sección principal'>
    <div class='container d-flex align-items-center'>
        <div class='row align-items-center justify-content-between'>
            <div class='col-12 col-md-5 col-lg-5 content-col'>
                <div class='banner_content_3 mb-4 mb-lg-0'>
                    <h1 class='hero_banner_heading'>
                        <span>Soluciones digitales</span>
                    </h1>
                    <p class='hero_description'>
                        Desarrollamos aplicaciones web y móviles a medida que
                        transforman ideas en soluciones digitales innovadoras
                        para impulsar el crecimiento de tu negocio.
                    </p>
                    <ul class='hero_features'>
                        <li>
                            <i class='fa-light fa-check-circle'></i> Desarrollo web
                            y móvil
                        </li>
                        <li>
                            <i class='fa-light fa-check-circle'></i> Diseño UX/UI
                            personalizado
                        </li>
                        <li>
                            <i class='fa-light fa-check-circle'></i> Soluciones escalables
                        </li>
                    </ul>
                    <div class='hero_buttons'>
                        <a
                            href={`${lang}/${hrefContact}`}
                            data-astro-reload
                            class='bd-btn-link btn_warning'
                        >
                            <span class='bd-button-content-wrapper'>
                                <span class='bd-button-icon'>
                                    <i class='fa-light fa-arrow-right-long'></i>
                                </span>
                                <span class='pd-animation-flip'>
                                    <span class='bd-btn-anim-wrapp'>
                                        <span class='bd-button-text'
                                            >{data.buttontext}</span
                                        >
                                        <span class='bd-button-text'
                                            >{data.buttontext}</span
                                        >
                                    </span>
                                </span>
                            </span>
                        </a>
                        <a href='#servicios' class='text-btn'>
                            <span>Ver servicios</span>
                            <i class='fa-light fa-chevron-down'></i>
                        </a>
                    </div>
                </div>
            </div>
            <div class='col-12 col-md-7 col-lg-7 globe-col'>
                <div class='hero_banner_image_3 decoration_wrap'>
                    <div class='earth_globe_container'>
                        <div class='earth_globe'>
                            <div id='globeViz'></div>
                        </div>
                        <div class='glow_effect'></div>
                        <div class='tech_icons'>
                            <div
                                class='tech_icon icon_code'
                                title='Desarrollo web'
                            >
                                <i class='fa-light fa-code'></i>
                                <span class='icon_label'>Desarrollo</span>
                            </div>
                            <div
                                class='tech_icon icon_mobile'
                                title='Aplicaciones móviles'
                            >
                                <i class='fa-light fa-mobile'></i>
                                <span class='icon_label'>Apps</span>
                            </div>
                            <div
                                class='tech_icon icon_database'
                                title='Soluciones en la nube'
                            >
                                <i class='fa-light fa-database'></i>
                                <span class='icon_label'>Cloud</span>
                            </div>
                        </div>
                    </div>
                    <div class='deco_item shape_1'>
                        <Image
                            width={600}
                            height={600}
                            src='/assets/images/shapes/shape_star_smooth.svg'
                            alt='Elemento decorativo'
                            class='deco rotating-star'
                        />
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class='hero_scroll_indicator'>
        <div class='scroll_icon'>
            <div class='mouse'></div>
        </div>
        <span>Scroll para explorar</span>
    </div>
</section>

<script is:inline>
    document.addEventListener('DOMContentLoaded', () => {
        // Obtener el contenedor del globo
        const container = document.querySelector('.earth_globe');
        if (!container) return;

        // Variables globales
        let globe = null;
        let globeInitialized = false;
        let isDestroyed = false;
        let observer = null;
        const isMobile = window.innerWidth < 768;

        // Función para inicializar el globo
        function initGlobe() {
            if (globeInitialized || isDestroyed) return;

            try {
                console.log('Inicializando globo...');

                // Verificar si Globe está disponible
                if (typeof Globe === 'undefined') {
                    console.error(
                        'Globe no está definido. El script podría no haberse cargado correctamente.'
                    );
                    return;
                }

                // Mostrar el contenedor
                container.style.display = 'flex';

                const globeElement = document.getElementById('globeViz');
                if (!globeElement) return;

                // Calcular dimensiones óptimas para el globo
                let width, height;

                if (isMobile) {
                    // En móvil, usar el ancho completo del contenedor
                    width = container.clientWidth;
                    height = width; // Mantener proporción cuadrada

                    // Asegurar que el contenedor tenga la altura correcta
                    container.style.height = `${height}px`;
                } else {
                    width = container.clientWidth;
                    height = container.clientHeight;
                }

                // Crear instancia del globo con configuración mínima
                globe = Globe()
                    .globeImageUrl(
                        'https://unpkg.com/three-globe/example/img/earth-blue-marble.jpg'
                    )
                    .backgroundColor('rgba(0,0,0,0)')
                    .width(width)
                    .height(height);

                // Definir conexiones mínimas para mejor rendimiento
                const connections = [
                    {
                        startLat: -34.6037,
                        startLng: -58.3816,
                        endLat: -23.5505,
                        endLng: -46.6333,
                        color: ['#4169e1', '#ffcc00']
                    }, // Buenos Aires - São Paulo
                    {
                        startLat: -34.6037,
                        startLng: -58.3816,
                        endLat: -22.9068,
                        endLng: -43.1729,
                        color: ['#4169e1', '#5e7ce2']
                    }, // Buenos Aires - Rio
                    {
                        startLat: -34.6037,
                        startLng: -58.3816,
                        endLat: 40.4168,
                        endLng: -3.7038,
                        color: ['#ffcc00', '#ff9933']
                    }, // Buenos Aires - Madrid
                    {
                        startLat: -34.6037,
                        startLng: -58.3816,
                        endLat: 35.6762,
                        endLng: 139.6503,
                        color: ['#5e7ce2', '#4169e1']
                    }, // Buenos Aires - Tokyo
                    {
                        startLat: -23.5505,
                        startLng: -46.6333,
                        endLat: 40.7128,
                        endLng: -74.006,
                        color: ['#ffcc00', '#ff9933']
                    }, // São Paulo - New York
                    {
                        startLat: 51.5074,
                        startLng: -0.1278,
                        endLat: 48.8566,
                        endLng: 2.3522,
                        color: ['#4169e1', '#5e7ce2']
                    }, // London - Paris
                    {
                        startLat: 35.6762,
                        startLng: 139.6503,
                        endLat: 37.7749,
                        endLng: -122.4194,
                        color: ['#5e7ce2', '#ffcc00']
                    } // Tokyo - San Francisco
                ];

                // Configuración simplificada para arcos
                globe
                    .arcsData(connections)
                    .arcColor('color')
                    .arcDashLength(0.4)
                    .arcDashGap(0.2)
                    .arcDashAnimateTime(2000)
                    .arcStroke(isMobile ? 2.0 : 1.2) // Líneas más gruesas en móvil
                    .arcAltitude(0.15)
                    .arcAltitudeAutoScale(0.25);

                // Inicializar globo
                globe(globeElement);

                // Configurar controles
                globe.controls().autoRotate = true;
                globe.controls().autoRotateSpeed = 0.5;
                globe.controls().enableZoom = false;
                globe.controls().enablePan = false;

                // Fijar distancia
                globe.controls().minDistance = globe.controls().getDistance();
                globe.controls().maxDistance = globe.controls().getDistance();

                // Posición inicial
                globe.pointOfView(
                    {
                        lat: -34.6037,
                        lng: -58.3816,
                        altitude: isMobile ? 2.0 : 2.0 // Misma altitud para mejor visualización
                    },
                    1000
                );

                globeInitialized = true;
                console.log('Globo inicializado correctamente');
            } catch (error) {
                console.error('Error al inicializar el globo:', error);
                destroyGlobe();
            }
        }

        // Función para destruir completamente el globo
        function destroyGlobe() {
            if (!globeInitialized || !globe) return;

            try {
                console.log('Destruyendo globo para liberar recursos...');

                // Detener rotación
                if (globe.controls()) {
                    globe.controls().autoRotate = false;
                }

                // Liberar recursos de Three.js
                if (globe.renderer()) {
                    const renderer = globe.renderer();

                    if (globe.scene()) {
                        const scene = globe.scene();

                        // Eliminar todos los objetos
                        while (scene.children.length > 0) {
                            const obj = scene.children[0];
                            scene.remove(obj);

                            // Liberar geometrías
                            if (obj.geometry) {
                                obj.geometry.dispose();
                            }

                            // Liberar materiales
                            if (obj.material) {
                                if (Array.isArray(obj.material)) {
                                    obj.material.forEach((mat) => {
                                        if (mat.map) mat.map.dispose();
                                        mat.dispose();
                                    });
                                } else {
                                    if (obj.material.map)
                                        obj.material.map.dispose();
                                    obj.material.dispose();
                                }
                            }
                        }
                    }

                    // Liberar renderizador
                    renderer.dispose();
                    renderer.forceContextLoss();
                    renderer.domElement = null;

                    // Eliminar canvas
                    const canvas = document.querySelector('#globeViz canvas');
                    if (canvas && canvas.parentNode) {
                        canvas.parentNode.removeChild(canvas);
                    }
                }

                // Limpiar elemento
                const globeElement = document.getElementById('globeViz');
                if (globeElement) {
                    globeElement.innerHTML = '';
                }

                // Ocultar contenedor
                container.style.display = 'none';

                // Limpiar referencias
                globe = null;
                globeInitialized = false;
                isDestroyed = true;

                console.log('Globo destruido completamente');

                // Forzar recolección de basura
                if (window.gc) window.gc();
            } catch (error) {
                console.error('Error al destruir el globo:', error);

                // Asegurar que el contenedor esté oculto en caso de error
                container.style.display = 'none';
                globe = null;
                globeInitialized = false;
                isDestroyed = true;
            }
        }

        // Usar Intersection Observer para detectar visibilidad
        function setupObserver() {
            // Destruir observer existente si hay uno
            if (observer) {
                observer.disconnect();
                observer = null;
            }

            observer = new IntersectionObserver(
                (entries) => {
                    const entry = entries[0];

                    if (entry.isIntersecting) {
                        // Solo inicializar si no está ya inicializado y no fue destruido
                        if (!globeInitialized && !isDestroyed) {
                            // Retrasar inicialización en móvil
                            if (isMobile) {
                                setTimeout(initGlobe, 500);
                            } else {
                                initGlobe();
                            }
                        }
                    } else {
                        // Destruir cuando no es visible
                        if (globeInitialized) {
                            destroyGlobe();
                        }
                    }
                },
                {
                    root: null,
                    rootMargin: '0px',
                    threshold: 0.1 // 10% visible para activar
                }
            );

            observer.observe(container);
        }

        // Manejar cambios de visibilidad de la página
        function handleVisibilityChange() {
            if (document.hidden) {
                // Página no visible, destruir globo
                if (globeInitialized) {
                    destroyGlobe();
                }
            } else {
                // Página visible de nuevo, reiniciar observer
                isDestroyed = false;
                setupObserver();
            }
        }

        // Manejar redimensionamiento de ventana
        function handleResize() {
            const newIsMobile = window.innerWidth < 768;

            // Destruir globo al cambiar tamaño
            if (globeInitialized) {
                destroyGlobe();
            }

            // Si cambia entre móvil y desktop, actualizar el tamaño del contenedor
            if (newIsMobile !== isMobile) {
                if (newIsMobile) {
                    // Ajustar tamaño para móvil
                    const width = container.clientWidth;
                    container.style.height = `${width}px`;
                } else {
                    // Restaurar tamaño para desktop
                    container.style.height = '';
                }
            }

            // Reiniciar observer después de un breve retraso
            isDestroyed = false;
            setTimeout(setupObserver, 300);
        }

        // Configurar observer inicial
        setupObserver();

        // Configurar event listeners
        document.addEventListener('visibilitychange', handleVisibilityChange);

        // Usar debounce para resize
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(handleResize, 300);
        });

        // Limpiar al desmontar
        window.addEventListener('beforeunload', () => {
            if (observer) {
                observer.disconnect();
            }

            if (globeInitialized) {
                destroyGlobe();
            }

            document.removeEventListener(
                'visibilitychange',
                handleVisibilityChange
            );
        });

        // Animar iconos tecnológicos
        const techIcons = document.querySelectorAll('.tech_icon');
        techIcons.forEach((icon, index) => {
            icon.style.animationDelay = `${index * 0.7}s`;
        });

        // Scroll suave para enlaces de anclaje
        document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop,
                        behavior: 'smooth'
                    });
                }
            });
        });
    });
</script>

<style is:global>
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        font-weight: 700;
        color: rgb(15, 14, 14);
        font-family: Manrope, sans-serif;
        line-height: 1.2;
    }

    .container {
        width: 100%;
        height: 100%;
        padding-right: 15px;
        padding-left: 15px;
        margin-right: auto;
        margin-left: auto;
    }

    img {
        max-width: 100%;
        height: auto;
    }

    .hero_section_wrapper {
        position: relative;
        overflow: hidden;
        padding-bottom: 60px;
        min-height: 100vh;
        display: flex;
        align-items: center;
        padding-top: 60px; /* Reducido el espacio para el header en desktop */
    }

    .hero_subtitle {
        margin-bottom: 20px;
    }

    .hero_subtitle .badge {
        background: rgba(65, 105, 225, 0.1);
        color: #4169e1;
        font-size: 14px;
        font-weight: 600;
        padding: 8px 16px;
        border-radius: 30px;
        display: inline-block;
        letter-spacing: 0.5px;
        text-transform: uppercase;
    }

    .hero_description {
        font-size: 18px;
        line-height: 1.6;
        color: rgba(255, 255, 255, 0.9);
        margin-bottom: 25px;
        max-width: 500px;
    }

    .hero_features {
        list-style: none;
        padding: 0;
        margin: 0 0 30px 0;
    }

    .hero_features li {
        color: rgba(255, 255, 255, 0.9);
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        font-size: 16px;
    }

    .hero_features li i {
        color: #ffcc00;
        margin-right: 10px;
        font-size: 18px;
    }

    .hero_buttons {
        display: flex;
        align-items: center;
        gap: 20px;
        flex-wrap: wrap;
    }

    .text-btn {
        color: #ffffff;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: all 0.3s ease;
        text-decoration: none;
    }

    .text-btn:hover {
        color: #ffcc00;
    }

    .text-btn i {
        font-size: 14px;
        animation: bounce 2s infinite;
    }

    @keyframes bounce {
        0%,
        20%,
        50%,
        80%,
        100% {
            transform: translateY(0);
        }
        40% {
            transform: translateY(-10px);
        }
        60% {
            transform: translateY(-5px);
        }
    }

    .earth_globe_container {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
        height: 100%;
        max-width: 900px;
        max-height: 900px;
        margin: 0 auto;
    }

    .earth_globe {
        position: relative;
        width: 100%;
        height: 100%;
        cursor: grab;
        z-index: 100;
    }

    .earth_globe:active {
        cursor: grabbing;
    }

    .glow_effect {
        position: absolute;
        width: 120%;
        height: 120%;
        border-radius: 50%;
        background: radial-gradient(
            circle,
            rgba(65, 105, 225, 0.15) 0%,
            rgba(65, 105, 225, 0.05) 50%,
            rgba(0, 0, 0, 0) 70%
        );
        z-index: 90;
        pointer-events: none;
    }

    #globeViz {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        overflow: hidden;
        box-shadow: 0 0 60px rgba(65, 105, 225, 0.25);
        position: relative;
        z-index: 100;
    }

    .tech_icons {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 110;
        pointer-events: none;
    }

    .tech_icon {
        position: absolute;
        width: 70px;
        height: 70px;
        border-radius: 50%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        animation: float 6s ease-in-out infinite;
        background: rgba(255, 255, 255, 0.95);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
        backdrop-filter: blur(4px);
        -webkit-backdrop-filter: blur(4px);
        border: 1px solid rgba(255, 255, 255, 0.18);
        transition:
            transform 0.3s ease,
            box-shadow 0.3s ease;
        pointer-events: auto;
    }

    .tech_icon:hover {
        transform: scale(1.1) translateY(-5px);
        box-shadow: 0 15px 35px rgba(65, 105, 225, 0.2);
    }

    .tech_icon i {
        font-size: 24px;
        color: #4169e1;
        transition: transform 0.3s ease;
        margin-bottom: 5px;
    }

    .tech_icon:hover i {
        transform: scale(1.2);
    }

    .icon_label {
        font-size: 12px;
        font-weight: 600;
        color: #4169e1;
        opacity: 0;
        transform: translateY(5px);
        transition: all 0.3s ease;
    }

    .tech_icon:hover .icon_label {
        opacity: 1;
        transform: translateY(0);
    }

    .icon_code {
        top: 15%;
        left: 20%;
    }

    .icon_mobile {
        top: 70%;
        left: 15%;
    }

    .icon_database {
        top: 40%;
        right: 15%;
    }

    @keyframes float {
        0% {
            transform: translateY(0px) rotate(0deg);
        }
        50% {
            transform: translateY(-20px) rotate(5deg);
        }
        100% {
            transform: translateY(0px) rotate(0deg);
        }
    }

    .hero_scroll_indicator {
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 10px;
        color: rgba(255, 255, 255, 0.7);
        font-size: 14px;
    }

    .scroll_icon {
        width: 30px;
        height: 50px;
        border: 2px solid rgba(255, 255, 255, 0.3);
        border-radius: 25px;
        display: flex;
        justify-content: center;
        padding-top: 10px;
    }

    .mouse {
        width: 6px;
        height: 10px;
        background: rgba(255, 255, 255, 0.7);
        border-radius: 3px;
        animation: mouse-scroll 2s infinite;
    }

    @keyframes mouse-scroll {
        0% {
            opacity: 1;
            transform: translateY(0);
        }
        50% {
            opacity: 0.5;
            transform: translateY(10px);
        }
        100% {
            opacity: 0;
            transform: translateY(20px);
        }
    }

    .hero_banner_image_3 {
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
        overflow: visible;
    }

    .hero_banner_heading {
        font-size: 90px;
        line-height: 1.08;
        margin-bottom: 25px;
        margin-top: 0;
        color: #ffffff;
        position: relative;
        z-index: 55;
        max-width: 650px;
    }

    .hero_banner_heading span {
        position: relative;
        z-index: 5;
    }

    .hero_banner_heading span::before {
        position: absolute;
        content: '';
        bottom: 5px;
        inset-inline-start: 0;
        background: url('/assets/images/shapes/shape_line_2.svg');
        width: 100%;
        height: 100%;
        background-size: contain;
        background-repeat: no-repeat;
        background-position: bottom;
        -webkit-animation: section-animation 3s infinite;
        animation: section-animation 3s infinite;
        z-index: -1;
    }

    .rotating-star {
        animation: rotate-star 60s linear infinite;
    }

    @keyframes rotate-star {
        from {
            transform: rotate(0deg);
        }
        to {
            transform: rotate(360deg);
        }
    }

    .row.align-items-center {
        margin-top: -20px; /* Ajuste para alinear mejor en desktop */
    }

    /* Responsive styles */
    @media (min-width: 1600px) {
        .earth_globe_container {
            width: 900px;
            height: 900px;
        }

        .hero_section_wrapper {
            padding-top: 50px; /* Aún menos espacio en pantallas grandes */
        }
    }

    @media (min-width: 1400px) and (max-width: 1599px) {
        .earth_globe_container {
            width: 800px;
            height: 800px;
        }

        .hero_banner_heading {
            font-size: 80px;
        }

        .hero_section_wrapper {
            padding-top: 60px;
        }
    }

    @media (min-width: 1200px) and (max-width: 1399px) {
        .earth_globe_container {
            width: 700px;
            height: 700px;
        }

        .hero_banner_heading {
            font-size: 75px;
        }
    }

    @media (min-width: 992px) and (max-width: 1199px) {
        .earth_globe_container {
            width: 600px;
            height: 600px;
        }

        .hero_banner_heading {
            font-size: 65px;
        }
    }

    @media (min-width: 768px) and (max-width: 991px) {
        .earth_globe_container {
            width: 550px;
            height: 550px;
        }

        .hero_banner_heading {
            font-size: 68px;
            text-align: center;
            margin-left: auto;
            margin-right: auto;
        }

        .banner_content_3 {
            text-align: center;
            margin-bottom: 40px;
        }

        .hero_description,
        .hero_subtitle,
        .hero_features {
            text-align: center;
            margin-left: auto;
            margin-right: auto;
        }

        .hero_features li {
            justify-content: center;
        }

        .hero_buttons {
            justify-content: center;
        }
    }

    @media (max-width: 767px) {
        .hero_section_wrapper {
            padding-top: 100px; /* Reducido para que el globo esté más arriba */
            padding-bottom: 40px;
            min-height: auto;
            height: auto;
        }

        .row {
            flex-direction: column-reverse; /* Invertir el orden para móvil: primero el globo, luego el contenido */
        }

        /* Ajustes para el globo en móvil */
        .globe-col {
            margin-bottom: 0;
            margin-top: -20px; /* Subir el globo */
        }

        .earth_globe_container {
            width: 100%;
            aspect-ratio: 1/1;
            max-width: 100%;
            height: auto;
            margin: 0 auto; /* Quitar margen superior */
        }

        /* Ajustes para el contenido en móvil */
        .content-col {
            margin-top: 20px; /* Espacio entre el globo y el contenido */
        }

        .hero_banner_image_3 {
            padding: 0;
            margin: 0 auto;
            width: 100%;
            max-width: 100%;
        }

        .tech_icon {
            width: 50px;
            height: 50px;
        }

        .tech_icon i {
            font-size: 16px;
            margin-bottom: 2px;
        }

        .hero_scroll_indicator {
            display: none;
        }

        .hero_banner_heading {
            font-size: 48px;
            text-align: center;
            margin-left: auto;
            margin-right: auto;
        }

        .banner_content_3 {
            text-align: center;
        }

        .hero_description,
        .hero_subtitle,
        .hero_features {
            text-align: center;
            margin-left: auto;
            margin-right: auto;
        }

        .hero_features li {
            justify-content: center;
        }

        .hero_buttons {
            justify-content: center;
        }

        .col {
            flex-basis: 100%;
            max-width: 100%;
        }

        /* Ajustes para los iconos flotantes en móvil para evitar solapamiento con el logo */
        .icon_code {
            top: 20%;
            left: 5%;
        }

        .icon_mobile {
            top: 80%;
            left: 5%;
        }

        .icon_database {
            top: 40%;
            right: 5%;
        }

        /* Ajustes específicos para el logo en móvil */
        .site_link img {
            min-width: 180px !important;
        }
    }

    @media (max-width: 576px) {
        .hero_section_wrapper {
            padding-top: 90px; /* Reducido aún más para pantallas pequeñas */
        }

        .globe-col {
            margin-top: -30px; /* Subir más el globo en pantallas pequeñas */
        }

        .earth_globe_container {
            max-width: 100%; /* Usar todo el ancho disponible */
            height: auto;
        }

        .hero_banner_image_3 {
            max-width: 100%;
        }

        .tech_icon {
            width: 40px;
            height: 40px;
        }

        .tech_icon i {
            font-size: 14px;
        }
    }

    @media (max-width: 480px) {
        .hero_section_wrapper {
            padding-top: 80px;
        }

        .globe-col {
            margin-top: -40px; /* Subir aún más el globo en pantallas muy pequeñas */
        }

        .earth_globe_container {
            max-width: 100%;
            height: auto;
        }

        .hero_banner_image_3 {
            max-width: 100%;
        }

        .hero_banner_heading {
            font-size: 38px;
        }

        .hero_features {
            font-size: 14px;
        }
    }

    @media (max-width: 400px) {
        .hero_section_wrapper {
            padding-top: 70px;
        }

        .earth_globe_container {
            max-width: 100%;
            height: auto;
        }

        .hero_banner_image_3 {
            max-width: 100%;
        }

        .hero_banner_heading {
            font-size: 34px;
        }
    }

    /* Aumentar z-index del header para evitar solapamientos */
    header,
    .header_area,
    .site-header {
        position: relative;
        z-index: 1500 !important; /* Valor más alto para asegurar que esté por encima de todo */
    }

    /* Asegurar que el globo esté por debajo del header */
    .earth_globe_container,
    .hero_banner_image_3 {
        z-index: 50;
    }

    /* Estilos específicos para el logo */
    .site_link img {
        width: auto !important; /* Forzar tamaño original */
        height: auto !important;
        max-height: 100% !important;
        min-width: 200px !important; /* Asegurar un tamaño mínimo */
    }

    /* Mejorar la visibilidad del logo */
    .site_link {
        display: inline-block !important;
        padding: 5px !important;
        z-index: 2000 !important; /* Mayor que el header */
    }
</style>
