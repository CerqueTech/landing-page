---
import { getLangFromUrl } from '../../i18n/utils';
import getData from '../../services/data';
import { Image } from 'astro:assets';

const lang = getLangFromUrl(Astro.url);
const data = await getData(`${lang}/index/hero`);
if (!data) {
    return Astro.redirect('/404');
}

const hrefContact = lang === 'es' ? 'contactanos' : 'contact';
---

<!-- Add globe.gl script directly in the head -->
<script is:inline src='https://unpkg.com/globe.gl@2.28.2/dist/globe.gl.min.js'
></script>

<section class='hero_section_wrapper' aria-label='Sección principal'>
    <div class='container d-flex align-items-center'>
        <div class='row align-items-center justify-content-between'>
            <div class='col-12 col-md-5 col-lg-5 content-col'>
                <div class='banner_content_3 mb-4 mb-lg-0'>
                    <h1 class='hero_banner_heading'>
                        <span>Soluciones Digitales</span>
                    </h1>
                    <p class='hero_description'>
                        Creamos tecnología que transforma negocios y
                        comunidades. Desde apps de emergencia hasta plataformas
                        sociales personalizadas.
                    </p>
                    <ul class='hero_features'>
                        <li>
                            <i class='fa-light fa-check-circle'></i> Desarrollo de
                            aplicaciones a medida
                        </li>
                        <li>
                            <i class='fa-light fa-check-circle'></i> Soluciones digitales
                            de alto impacto
                        </li>
                        <li>
                            <i class='fa-light fa-check-circle'></i> Tecnologías
                            basadas en IA y Cloud
                        </li>
                    </ul>
                    <div class='hero_buttons'>
                        <a
                            href={`${lang}/${hrefContact}`}
                            data-astro-reload
                            class='bd-btn-link btn_warning'
                        >
                            <span class='bd-button-content-wrapper'>
                                <span class='bd-button-icon'>
                                    <i class='fa-light fa-arrow-right-long'></i>
                                </span>
                                <span class='pd-animation-flip'>
                                    <span class='bd-btn-anim-wrapp'>
                                        <span class='bd-button-text'
                                            >{data.buttontext}</span
                                        >
                                        <span class='bd-button-text'
                                            >{data.buttontext}</span
                                        >
                                    </span>
                                </span>
                            </span>
                        </a>
                        <a href='#servicios' class='text-btn'>
                            <span>Ver servicios</span>
                            <i class='fa-light fa-chevron-down'></i>
                        </a>
                    </div>
                </div>
            </div>
            <div class='col-12 col-md-7 col-lg-7 globe-col'>
                <div class='hero_banner_image_3 decoration_wrap'>
                    <div class='earth_globe_container'>
                        <div class='earth_globe'>
                            <div id='globeViz'></div>
                        </div>
                        <div class='glow_effect'></div>
                        <div class='tech_icons'>
                            <div
                                class='tech_icon icon_code'
                                title='Desarrollo web'
                            >
                                <i class='fa-light fa-code'></i>
                                <span class='icon_label'>Desarrollo</span>
                            </div>
                            <div
                                class='tech_icon icon_mobile'
                                title='Aplicaciones móviles'
                            >
                                <i class='fa-light fa-mobile'></i>
                                <span class='icon_label'>Apps</span>
                            </div>
                            <div
                                class='tech_icon icon_database'
                                title='Soluciones en la nube'
                            >
                                <i class='fa-light fa-database'></i>
                                <span class='icon_label'>Cloud</span>
                            </div>
                        </div>
                    </div>
                    <div class='deco_item shape_1'>
                        <Image
                            width={600}
                            height={600}
                            src='/assets/images/shapes/shape_star_smooth.svg'
                            alt='Elemento decorativo'
                            class='deco rotating-star'
                        />
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class='hero_scroll_indicator'>
        <div class='scroll_icon'>
            <div class='mouse'></div>
        </div>
        <span>Scroll para explorar</span>
    </div>
</section>

<script is:inline>
    document.addEventListener('DOMContentLoaded', () => {
        const container = document.querySelector('.earth_globe');
        if (!container) return;

        let globe = null;
        let globeInitialized = false;
        let isHidden = false;
        let observer = null;
        let isScrolling = false;
        let scrollTimeout = null;
        let animationFrameId = null;
        const isMobile = window.innerWidth < 768;
        const globeElement = document.getElementById('globeViz');

        function initGlobe() {
            if (globeInitialized) return;

            try {
                console.log('Inicializando globo...');

                if (typeof Globe === 'undefined') {
                    console.error(
                        'Globe no está definido. El script podría no haberse cargado correctamente.'
                    );
                    return;
                }

                container.style.display = 'flex';
                container.style.opacity = '1';
                container.style.visibility = 'visible';

                if (!globeElement) return;

                let width, height;

                if (isMobile) {
                    width = container.clientWidth;
                    height = width;

                    container.style.height = `${height}px`;
                } else {
                    width = container.clientWidth;
                    height = container.clientHeight;
                }

                globe = Globe()
                    .globeImageUrl(
                        'https://unpkg.com/three-globe/example/img/earth-blue-marble.jpg'
                    )
                    .backgroundColor('rgba(0,0,0,0)')
                    .width(width)
                    .height(height);

                const connections = [
                    {
                        startLat: -34.6037,
                        startLng: -58.3816,
                        endLat: -23.5505,
                        endLng: -46.6333,
                        color: ['#4169e1', '#ffcc00']
                    },
                    {
                        startLat: -34.6037,
                        startLng: -58.3816,
                        endLat: -22.9068,
                        endLng: -43.1729,
                        color: ['#4169e1', '#5e7ce2']
                    },
                    {
                        startLat: -34.6037,
                        startLng: -58.3816,
                        endLat: 19.4326,
                        endLng: -99.1332,
                        color: ['#ffcc00', '#ff9933']
                    },
                    {
                        startLat: 19.4326,
                        startLng: -99.1332,
                        endLat: 40.4168,
                        endLng: -3.7038,
                        color: ['#ffcc00', '#4169e1']
                    },
                    {
                        startLat: 40.4168,
                        startLng: -3.7038,
                        endLat: 35.6762,
                        endLng: 139.6503,
                        color: ['#4169e1', '#5e7ce2']
                    },
                    {
                        startLat: -23.5505,
                        startLng: -46.6333,
                        endLat: 40.7128,
                        endLng: -74.006,
                        color: ['#ffcc00', '#ff9933']
                    },
                    {
                        startLat: 51.5074,
                        startLng: -0.1278,
                        endLat: 48.8566,
                        endLng: 2.3522,
                        color: ['#4169e1', '#5e7ce2']
                    },
                    {
                        startLat: 35.6762,
                        startLng: 139.6503,
                        endLat: 31.2304,
                        endLng: 121.4737,
                        color: ['#5e7ce2', '#ffcc00']
                    },
                    {
                        startLat: 31.2304,
                        startLng: 121.4737,
                        endLat: 1.3521,
                        endLng: 103.8198,
                        color: ['#4169e1', '#ffcc00']
                    },
                    {
                        startLat: -34.6037,
                        startLng: -58.3816,
                        endLat: -33.8688,
                        endLng: 151.2093,
                        arcAltitude: 0.3,
                        color: ['#5e7ce2', '#4169e1']
                    },
                    {
                        startLat: -33.8688,
                        startLng: 151.2093,
                        endLat: 1.3521,
                        endLng: 103.8198,
                        color: ['#4169e1', '#ffcc00']
                    },
                    {
                        startLat: -34.6037,
                        startLng: -58.3816,
                        endLat: -15.7975,
                        endLng: -47.8919,
                        color: ['#5e7ce2', '#4169e1']
                    }
                ];

                globe
                    .arcsData(connections)
                    .arcColor('color')
                    .arcDashLength(0.4)
                    .arcDashGap(0.2)
                    .arcDashAnimateTime(2000)
                    .arcStroke(isMobile ? 2.0 : 1.2)
                    .arcAltitude((d) => d.arcAltitude || 0.15)
                    .arcAltitudeAutoScale(0.25);

                globe(globeElement);

                globe.controls().autoRotate = true;
                globe.controls().autoRotateSpeed = 0.5;
                globe.controls().enableZoom = false;
                globe.controls().enablePan = false;

                globe.controls().minDistance = globe.controls().getDistance();
                globe.controls().maxDistance = globe.controls().getDistance();

                globe.pointOfView(
                    {
                        lat: -34.6037,
                        lng: -58.3816,
                        altitude: isMobile ? 2.0 : 2.0
                    },
                    1000
                );

                globeInitialized = true;
                console.log('Globo inicializado correctamente');
            } catch (error) {
                console.error('Error al inicializar el globo:', error);
            }
        }

        function destroyGlobe() {
            if (!globeInitialized || !globe) return;

            console.log('Destruyendo globo para liberar recursos...');

            if (animationFrameId) {
                cancelAnimationFrame(animationFrameId);
                animationFrameId = null;
            }

            if (globeElement) {
                globeElement.innerHTML = '';
            }

            if (globe && globe._destructor) {
                globe._destructor();
            } else if (globe && globe.renderer) {
                const renderer = globe.renderer();
                if (renderer) {
                    renderer.dispose();

                    if (renderer.domElement) {
                        renderer.domElement.remove();
                    }
                }
            }

            globeInitialized = false;
            globe = null;
            isHidden = true;

            container.style.backgroundImage =
                "url('https://unpkg.com/three-globe/example/img/earth-blue-marble.jpg')";
            container.style.backgroundSize = 'cover';
            container.style.backgroundPosition = 'center';
        }

        function toggleGlobeVisibility(isVisible) {
            if (isVisible) {
                if (!globeInitialized || !globe) {
                    console.log('Inicializando globo porque es visible...');
                    container.style.backgroundImage = 'none';
                    initGlobe();
                } else if (isHidden) {
                    console.log('Mostrando globo...');
                    container.style.opacity = '1';
                    container.style.visibility = 'visible';
                    isHidden = false;

                    if (globe.controls() && !isScrolling) {
                        globe.controls().autoRotate = true;
                    }
                }
            } else {
                if (globeInitialized && globe) {
                    console.log('Ocultando globo completamente...');
                    container.style.opacity = '0';
                    container.style.visibility = 'hidden';
                    isHidden = true;

                    setTimeout(destroyGlobe, 300);
                }
            }
        }

        function pauseGlobe() {
            if (!globeInitialized || !globe || isHidden) return;

            if (!isScrolling) {
                isScrolling = true;

                if (animationFrameId) {
                    cancelAnimationFrame(animationFrameId);
                    animationFrameId = null;
                }

                if (globe.controls()) {
                    globe.controls().autoRotate = false;
                }

                container.style.opacity = '0.5';
            }

            clearTimeout(scrollTimeout);
            scrollTimeout = setTimeout(() => {
                resumeGlobe();
            }, 500);
        }

        function resumeGlobe() {
            if (!globeInitialized || !globe || isHidden) return;

            isScrolling = false;

            if (!isHidden) {
                if (globe.controls()) {
                    globe.controls().autoRotate = true;
                }

                container.style.opacity = '1';
            }
        }

        function setupObserver() {
            if (observer) {
                observer.disconnect();
                observer = null;
            }

            observer = new IntersectionObserver(
                (entries) => {
                    const entry = entries[0];
                    const isIntersecting = entry.isIntersecting;

                    console.log(
                        `Cambio de visibilidad: ${isIntersecting ? 'visible' : 'oculto'}`
                    );

                    toggleGlobeVisibility(isIntersecting);
                },
                {
                    root: null,
                    rootMargin: '50px 0px',
                    threshold: 0.1
                }
            );

            observer.observe(container);
        }

        function handleResize() {
            const newIsMobile = window.innerWidth < 768;

            if (newIsMobile !== isMobile) {
                if (newIsMobile) {
                    const width = container.clientWidth;
                    container.style.height = `${width}px`;
                } else {
                    container.style.height = '';
                }

                if (globeInitialized && globe) {
                    let width = container.clientWidth;
                    let height = newIsMobile ? width : container.clientHeight;

                    globe.width(width).height(height);
                }
            }
        }

        setupObserver();

        window.addEventListener('scroll', pauseGlobe, { passive: true });

        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(handleResize, 300);
        });

        const techIcons = document.querySelectorAll('.tech_icon');
        techIcons.forEach((icon, index) => {
            icon.style.animationDelay = `${index * 0.7}s`;
        });

        document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop,
                        behavior: 'smooth'
                    });
                }
            });
        });

        if (isMobile) {
            container.style.cursor = 'default';
            if (globe && globe.controls) {
                globe.controls().enabled = false;
            }
        }
    });
</script>

<style is:global>
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        font-weight: 700;
        color: rgb(15, 14, 14);
        font-family: Manrope, sans-serif;
        line-height: 1.2;
    }

    .container {
        width: 100%;
        height: 100%;
        padding-right: 15px;
        padding-left: 15px;
        margin-right: auto;
        margin-left: auto;
    }

    img {
        max-width: 100%;
        height: auto;
    }

    .hero_section_wrapper {
        position: relative;
        overflow: hidden;
        padding-bottom: 60px;
        min-height: 100vh;
        display: flex;
        align-items: center;
        padding-top: 60px;
    }

    .hero_subtitle {
        margin-bottom: 20px;
    }

    .hero_subtitle .badge {
        background: rgba(65, 105, 225, 0.1);
        color: #4169e1;
        font-size: 14px;
        font-weight: 600;
        padding: 8px 16px;
        border-radius: 30px;
        display: inline-block;
        letter-spacing: 0.5px;
        text-transform: uppercase;
    }

    .hero_description {
        font-size: 18px;
        line-height: 1.6;
        color: rgba(255, 255, 255, 0.9);
        margin-bottom: 25px;
        max-width: 500px;
    }

    .hero_features {
        list-style: none;
        padding: 0;
        margin: 0 0 30px 0;
    }

    .hero_features li {
        color: rgba(255, 255, 255, 0.9);
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        font-size: 16px;
    }

    .hero_features li i {
        color: #ffcc00;
        margin-right: 10px;
        font-size: 18px;
    }

    .hero_buttons {
        display: flex;
        align-items: center;
        gap: 20px;
        flex-wrap: wrap;
    }

    .text-btn {
        color: #ffffff;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: all 0.3s ease;
        text-decoration: none;
    }

    .text-btn:hover {
        color: #ffcc00;
    }

    .text-btn i {
        font-size: 14px;
        animation: bounce 2s infinite;
    }

    @keyframes bounce {
        0%,
        20%,
        50%,
        80%,
        100% {
            transform: translateY(0);
        }
        40% {
            transform: translateY(-10px);
        }
        60% {
            transform: translateY(-5px);
        }
    }

    .earth_globe_container {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
        height: 100%;
        max-width: 900px;
        max-height: 900px;
        margin: 0 auto;
    }

    .earth_globe {
        position: relative;
        width: 100%;
        height: 100%;
        cursor: grab;
        z-index: 100;
        transition: opacity 0.3s ease;
    }

    .earth_globe:active {
        cursor: grabbing;
    }

    .glow_effect {
        position: absolute;
        width: 120%;
        height: 120%;
        border-radius: 50%;
        background: radial-gradient(
            circle,
            rgba(65, 105, 225, 0.15) 0%,
            rgba(65, 105, 225, 0.05) 50%,
            rgba(0, 0, 0, 0) 70%
        );
        z-index: 90;
        pointer-events: none;
    }

    #globeViz {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        overflow: hidden;
        box-shadow: 0 0 60px rgba(65, 105, 225, 0.25);
        position: relative;
        z-index: 100;
    }

    .tech_icons {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 110;
        pointer-events: none;
    }

    .tech_icon {
        position: absolute;
        width: 70px;
        height: 70px;
        border-radius: 50%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        animation: float 6s ease-in-out infinite;
        background: rgba(255, 255, 255, 0.95);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
        backdrop-filter: blur(4px);
        -webkit-backdrop-filter: blur(4px);
        border: 1px solid rgba(255, 255, 255, 0.18);
        transition:
            transform 0.3s ease,
            box-shadow 0.3s ease;
        pointer-events: auto;
    }

    .tech_icon:hover {
        transform: scale(1.1) translateY(-5px);
        box-shadow: 0 15px 35px rgba(65, 105, 225, 0.2);
    }

    .tech_icon i {
        font-size: 24px;
        color: #4169e1;
        transition: transform 0.3s ease;
        margin-bottom: 5px;
    }

    .tech_icon:hover i {
        transform: scale(1.2);
    }

    .icon_label {
        font-size: 12px;
        font-weight: 600;
        color: #4169e1;
        opacity: 0;
        transform: translateY(5px);
        transition: all 0.3s ease;
    }

    .tech_icon:hover .icon_label {
        opacity: 1;
        transform: translateY(0);
    }

    .icon_code {
        top: 15%;
        left: 20%;
    }

    .icon_mobile {
        top: 70%;
        left: 15%;
    }

    .icon_database {
        top: 40%;
        right: 15%;
    }

    @keyframes float {
        0% {
            transform: translateY(0px) rotate(0deg);
        }
        50% {
            transform: translateY(-20px) rotate(5deg);
        }
        100% {
            transform: translateY(0px) rotate(0deg);
        }
    }

    .hero_scroll_indicator {
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 10px;
        color: rgba(255, 255, 255, 0.7);
        font-size: 14px;
    }

    .scroll_icon {
        width: 30px;
        height: 50px;
        border: 2px solid rgba(255, 255, 255, 0.3);
        border-radius: 25px;
        display: flex;
        justify-content: center;
        padding-top: 10px;
    }

    .mouse {
        width: 6px;
        height: 10px;
        background: rgba(255, 255, 255, 0.7);
        border-radius: 3px;
        animation: mouse-scroll 2s infinite;
    }

    @keyframes mouse-scroll {
        0% {
            opacity: 1;
            transform: translateY(0);
        }
        50% {
            opacity: 0.5;
            transform: translateY(10px);
        }
        100% {
            opacity: 0;
            transform: translateY(20px);
        }
    }

    .hero_banner_image_3 {
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
        overflow: visible;
    }

    .hero_banner_heading {
        font-size: 90px;
        line-height: 1.08;
        margin-bottom: 25px;
        margin-top: 0;
        color: #ffffff;
        position: relative;
        z-index: 55;
        max-width: 650px;
    }

    .hero_banner_heading span {
        position: relative;
        z-index: 5;
    }

    .hero_banner_heading span::before {
        position: absolute;
        content: '';
        bottom: 5px;
        inset-inline-start: 0;
        background: url('/assets/images/shapes/shape_line_2.svg');
        width: 100%;
        height: 100%;
        background-size: contain;
        background-repeat: no-repeat;
        background-position: bottom;
        -webkit-animation: section-animation 3s infinite;
        animation: section-animation 3s infinite;
        z-index: -1;
    }

    .rotating-star {
        animation: rotate-star 60s linear infinite;
    }

    @keyframes rotate-star {
        from {
            transform: rotate(0deg);
        }
        to {
            transform: rotate(360deg);
        }
    }

    .row.align-items-center {
        margin-top: -20px;
    }

    @media (min-width: 1600px) {
        .earth_globe_container {
            width: 900px;
            height: 900px;
        }

        .hero_section_wrapper {
            padding-top: 50px;
        }
    }

    @media (min-width: 1400px) and (max-width: 1599px) {
        .earth_globe_container {
            width: 800px;
            height: 800px;
        }

        .hero_banner_heading {
            font-size: 80px;
        }

        .hero_section_wrapper {
            padding-top: 60px;
        }
    }

    @media (min-width: 1200px) and (max-width: 1399px) {
        .earth_globe_container {
            width: 700px;
            height: 700px;
        }

        .hero_banner_heading {
            font-size: 75px;
        }
    }

    @media (min-width: 992px) and (max-width: 1199px) {
        .earth_globe_container {
            width: 600px;
            height: 600px;
        }

        .hero_banner_heading {
            font-size: 65px;
        }
    }

    @media (min-width: 768px) and (max-width: 991px) {
        .earth_globe_container {
            width: 550px;
            height: 550px;
        }

        .hero_banner_heading {
            font-size: 68px;
            text-align: center;
            margin-left: auto;
            margin-right: auto;
        }

        .banner_content_3 {
            text-align: center;
            margin-bottom: 40px;
        }

        .hero_description,
        .hero_subtitle,
        .hero_features {
            text-align: center;
            margin-left: auto;
            margin-right: auto;
        }

        .hero_features li {
            justify-content: center;
        }

        .hero_buttons {
            justify-content: center;
        }
    }

    @media (max-width: 767px) {
        .hero_section_wrapper {
            padding-top: 100px;
            padding-bottom: 40px;
            min-height: auto;
            height: auto;
        }

        .row {
            flex-direction: column-reverse;
        }

        .globe-col {
            margin-bottom: 0;
            margin-top: -20px;
        }

        .earth_globe_container {
            width: 100%;
            aspect-ratio: 1/1;
            max-width: 100%;
            height: auto;
            margin: 0 auto;
        }

        .content-col {
            margin-top: 20px;
        }

        .hero_banner_image_3 {
            padding: 0;
            margin: 0 auto;
            width: 100%;
            max-width: 100%;
        }

        .tech_icon {
            width: 50px;
            height: 50px;
        }

        .tech_icon i {
            font-size: 16px;
            margin-bottom: 2px;
        }

        .hero_scroll_indicator {
            display: none;
        }

        .hero_banner_heading {
            font-size: 48px;
            text-align: center;
            margin-left: auto;
            margin-right: auto;
        }

        .banner_content_3 {
            text-align: center;
        }

        .hero_description,
        .hero_subtitle,
        .hero_features {
            text-align: center;
            margin-left: auto;
            margin-right: auto;
        }

        .hero_features li {
            justify-content: center;
        }

        .hero_buttons {
            justify-content: center;
            margin-bottom: 40px;
        }

        .earth_globe {
            cursor: default;
        }

        .earth_globe:active {
            cursor: default;
        }

        .col {
            flex-basis: 100%;
            max-width: 100%;
        }

        .icon_code {
            top: 20%;
            left: 5%;
        }

        .icon_mobile {
            top: 80%;
            left: 5%;
        }

        .icon_database {
            top: 40%;
            right: 5%;
        }

        .site_link img {
            min-width: 180px !important;
        }
    }

    @media (max-width: 576px) {
        .hero_section_wrapper {
            padding-top: 90px;
        }

        .globe-col {
            margin-top: -30px;
        }

        .earth_globe_container {
            max-width: 100%;
            height: auto;
        }

        .hero_banner_image_3 {
            max-width: 100%;
        }

        .tech_icon {
            width: 40px;
            height: 40px;
        }

        .tech_icon i {
            font-size: 14px;
        }
    }

    @media (max-width: 480px) {
        .hero_section_wrapper {
            padding-top: 80px;
        }

        .globe-col {
            margin-top: -40px;
        }

        .earth_globe_container {
            max-width: 100%;
            height: auto;
        }

        .hero_banner_image_3 {
            max-width: 100%;
        }

        .hero_banner_heading {
            font-size: 38px;
        }

        .hero_features {
            font-size: 14px;
        }
    }

    @media (max-width: 400px) {
        .hero_section_wrapper {
            padding-top: 70px;
        }

        .earth_globe_container {
            max-width: 100%;
            height: auto;
        }

        .hero_banner_image_3 {
            max-width: 100%;
        }

        .hero_banner_heading {
            font-size: 34px;
        }
    }

    header,
    .header_area,
    .site-header {
        position: relative;
        z-index: 1500 !important;
    }

    .earth_globe_container,
    .hero_banner_image_3 {
        z-index: 50;
    }

    .site_link img {
        width: auto !important;
        height: auto !important;
        max-height: 100% !important;
        min-width: 200px !important;
    }

    .site_link {
        display: inline-block !important;
        padding: 5px !important;
        z-index: 2000 !important;
    }
</style>
